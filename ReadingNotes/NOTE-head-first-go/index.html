<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="我读书少，你莫骗我。"><title>《Head First Go》 | 愚苏记</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/lib/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="/lib/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="/lib/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="/lib/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="/lib/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script><!-- hexo-inject:begin --><!-- hexo-inject:end -->var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '96c862f2728296588ae9849f3bcb95db';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">《Head First Go》</h1><a id="logo" href="/.">愚苏记</a><p class="description">To no avail but try.</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-5-5"><div class="content_container no-padding-right"><div class="post"><h1 class="post-title">《Head First Go》</h1><div class="post-meta">Sep 12, 2019<span> | </span><span class="category"><a href="/categories/ReadingNotes/">ReadingNotes</a></span></div><a class="disqus-comment-count" data-disqus-identifier="ReadingNotes/NOTE-head-first-go/" href="/ReadingNotes/NOTE-head-first-go/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Function-calls-and-Types"><span class="toc-number">1.</span> <span class="toc-text">Function calls and Types</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Function-calls"><span class="toc-number">1.1.</span> <span class="toc-text">Function calls</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Types"><span class="toc-number">1.2.</span> <span class="toc-text">Types</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS"><span class="toc-number">1.3.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conditionals-and-Loops"><span class="toc-number">2.</span> <span class="toc-text">Conditionals and Loops</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Conditionals"><span class="toc-number">2.1.</span> <span class="toc-text">Conditionals</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Loops"><span class="toc-number">2.2.</span> <span class="toc-text">Loops</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-2"><span class="toc-number">2.3.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Function-declarations-and-Pointers"><span class="toc-number">3.</span> <span class="toc-text">Function declarations and Pointers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Function-declarations"><span class="toc-number">3.1.</span> <span class="toc-text">Function declarations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pointers"><span class="toc-number">3.2.</span> <span class="toc-text">Pointers</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-3"><span class="toc-number">3.3.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Packages"><span class="toc-number">4.</span> <span class="toc-text">Packages</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-4"><span class="toc-number">4.1.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Arrays"><span class="toc-number">5.</span> <span class="toc-text">Arrays</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-5"><span class="toc-number">5.1.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Slices"><span class="toc-number">6.</span> <span class="toc-text">Slices</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-6"><span class="toc-number">6.1.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Maps"><span class="toc-number">7.</span> <span class="toc-text">Maps</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-7"><span class="toc-number">7.1.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Structs-and-Defined-types"><span class="toc-number">8.</span> <span class="toc-text">Structs and Defined types</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Structs"><span class="toc-number">8.1.</span> <span class="toc-text">Structs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Defined-Types"><span class="toc-number">8.2.</span> <span class="toc-text">Defined Types</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-8"><span class="toc-number">8.3.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Method-definitions"><span class="toc-number">9.</span> <span class="toc-text">Method definitions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-9"><span class="toc-number">9.1.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Encapsulation-and-Embeding"><span class="toc-number">10.</span> <span class="toc-text">Encapsulation and Embeding</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Encapsulation"><span class="toc-number">10.1.</span> <span class="toc-text">Encapsulation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Embedding"><span class="toc-number">10.2.</span> <span class="toc-text">Embedding</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-10"><span class="toc-number">10.3.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interface"><span class="toc-number">11.</span> <span class="toc-text">Interface</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-11"><span class="toc-number">11.1.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defer-and-Recover"><span class="toc-number">12.</span> <span class="toc-text">Defer and Recover</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Defer"><span class="toc-number">12.1.</span> <span class="toc-text">Defer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Recover"><span class="toc-number">12.2.</span> <span class="toc-text">Recover</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-12"><span class="toc-number">12.3.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Goroutines-and-Channels"><span class="toc-number">13.</span> <span class="toc-text">Goroutines and Channels</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Goroutines"><span class="toc-number">13.1.</span> <span class="toc-text">Goroutines</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Channels"><span class="toc-number">13.2.</span> <span class="toc-text">Channels</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-13"><span class="toc-number">13.3.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Testing"><span class="toc-number">14.</span> <span class="toc-text">Testing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BULLET-POINTS-14"><span class="toc-number">15.</span> <span class="toc-text">BULLET POINTS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-handler-functions-and-First-class-functions"><span class="toc-number">16.</span> <span class="toc-text">HTTP handler functions and First-class functions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-handler-functions"><span class="toc-number">16.1.</span> <span class="toc-text">HTTP handler functions</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#First-class-functions"><span class="toc-number">17.</span> <span class="toc-text">First-class functions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-15"><span class="toc-number">17.1.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Templates"><span class="toc-number">18.</span> <span class="toc-text">Templates</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BULLET-POINTS-16"><span class="toc-number">18.1.</span> <span class="toc-text">BULLET POINTS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#More"><span class="toc-number">19.</span> <span class="toc-text">More</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Initialization-statements-for-“if”"><span class="toc-number">19.1.</span> <span class="toc-text">Initialization statements for “if”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#The-switch-statment"><span class="toc-number">19.2.</span> <span class="toc-text">The switch statment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#More-basic-types"><span class="toc-number">19.3.</span> <span class="toc-text">More basic types</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#More-about-runes"><span class="toc-number">19.4.</span> <span class="toc-text">More about runes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Buffered-channels"><span class="toc-number">19.5.</span> <span class="toc-text">Buffered channels</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Futher-Reading"><span class="toc-number">19.6.</span> <span class="toc-text">Futher Reading</span></a></li></ol></li></ol></div></div><div class="post-content"><h3 id="Function-calls-and-Types">Function calls and Types</h3>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><h4 id="Function-calls">Function calls</h4>
<p>A function is a chunk of code that you can call from other places in your program.<br>
When calling a function, you can use arguments to provide the function with data.</p>
<h4 id="Types">Types</h4>
<p>Values in Go are classified into different types, which specify what the values can be used for.<br>
Math operations and comparisons between different types are not allowed, but you can convert a value to a new type if needed.<br>
Go variables can only store values of their declared type.</p>
<h4 id="BULLET-POINTS">BULLET POINTS</h4>
<ul>
<li>A <strong>package</strong> is a group of related functions and other code.</li>
<li>Before you can use a package’s functions within a Go file, you need to import that package.</li>
<li>A <code>string</code> is a series of bytes that usually reprsent text characters.</li>
<li>a rune represents a single text character.</li>
<li>Go’s tow most common numeric types are <code>int</code> which holds integers, and <code>float64</code> which holds floating-point numbers.</li>
<li>The <code>bool</code> type holds Boolean values, which are either <code>true</code> or <code>false</code>.</li>
<li>A <strong>variable</strong> is a piece of storage that can contain values of a specified type.</li>
<li>If not value has been assigned to a variable, it will contain the <strong>zero value</strong> for its type. Examples of zero values include <code>0</code> for <code>int</code> or <code>float64</code> variables, or <code>&quot;&quot;</code> for <code>string</code> variables.</li>
<li>You can declare a variable and assign it a value at the same time using a <code>:=</code> <strong>short variable declaration</strong>.</li>
<li>A variable, function, or type can only be accessed from code in other packages if its name begins with a capital letter.</li>
<li>The <code>go fmt</code> command automatically reformats source files to use Go standard formatting. You should run <code>go fmt</code> on any code that you plan to share with others.</li>
<li>The <code>go build</code> command <strong>compiles</strong> Go source code into a binary format that computers can executes.</li>
<li>The <code>go run</code> command compiles and runs a program without saving an executable file in the current directory.</li>
</ul>
<h3 id="Conditionals-and-Loops">Conditionals and Loops</h3>
<h4 id="Conditionals">Conditionals</h4>
<p>Conditionals are state ments that cause a block of code to be executed only if a condition is met.<br>
An expression is evaluated, and if its result is true, the code in the conditional block body is executed.<br>
Go supports multiple branches in the condition. These statements take the form <code>if ... else if ... else</code>.</p>
<h4 id="Loops">Loops</h4>
<p>Loops cause a block of code to execute repeatedly.<br>
One common kind of loop starts with the keyword <code>for</code>, followed by an init statement that initializes a variable, a condition expression that determines when to break out of the loop, and a post statement that runs after each iteration of the loop.</p>
<h4 id="BULLET-POINTS-2">BULLET POINTS</h4>
<ul>
<li>A <strong>method</strong> is a kind of function that’s associated with values of a given type.</li>
<li>Go treats everything from a <code>//</code> marker to the end of the line as a <strong>comment</strong> and ignores it.</li>
<li>Multiline comments start with <code>/*</code> and end with <code>*/</code>. Everything in between, including newlines, is ignored.</li>
<li>It’s conventional to inculde a comment at the top of every program, explaining what it does.</li>
<li>Unlike most programming languages, Go allows multiple return values from a function or method call.</li>
<li>One common use of multiple return values is to return the function’s main result, and then a second value indicating whether there was a error.</li>
<li>To discard a value without using it, use the <code>_</code> <strong>blank identifier</strong>. The blank identifier can be used in place of any variable in any assignment statemnet.</li>
<li>Avoid giving variables the same name as types, functions, or packages; it causes the variable to <strong>shadow</strong>(override) the item with the same name.</li>
<li>Functions, conditionals, and loops all have blocks of code that appear within <code>{}</code> braces.</li>
<li>Their code doesn’t appear within <code>{}</code> braces, but files and packages also comprise blocks.</li>
<li>The <strong>scope</strong> of a variable is limited to the block it is defined within, and all blocks nested within that block.</li>
<li>In addition to a name, a package may have an <strong>import path</strong> that is required when it is imported.</li>
<li>The <code>continue</code> keyword skips to the next iteration of a loop.</li>
<li>The <code>break</code> keyword exists out of a loop entirely.</li>
</ul>
<h3 id="Function-declarations-and-Pointers">Function declarations and Pointers</h3>
<h4 id="Function-declarations">Function declarations</h4>
<p>You can declare your own functions, and then call them elsewhere in the same package by typing the function name, followed by a pair of parentheses containing the arguments the function requires (if any).<br>
You can declare that a function will return one or more values to its caller.</p>
<h4 id="Pointers">Pointers</h4>
<p>You can get a pointer to a variable by typing Go’s “address of” oprator (&amp;) right before the variable name: <code>&amp;myVariable</code>.<br>
Pointer types are written with a <code>*</code> followed by the ytpe of value the pointer points to (<code>*int</code>, <code>*bool</code>, etc…).</p>
<h4 id="BULLET-POINTS-3">BULLET POINTS</h4>
<ul>
<li>The <code>fmt.Printf</code> and <code>fmt.Sprintf</code> functions format values they’re given. The first argument should be a formatting strign containing <strong>verbs</strong> (<code>%d</code>, <code>%f</code>, <code>%s</code>, etc.) that values will be substituted for.</li>
<li>Within a formatting verb, you can inculde a <code>width</code>: a minimum number of characters the formatted value will take up. For example, <code>%12s</code> results in a 12-character string (padded with spaces), <code>%sd</code> results in a 2-character integer, and <code>%.3f</code> results in a floating-point number rounded to 3 decimal places.</li>
<li>If you want calls to your function to accept arguments, you must declare one or more parameters, inculding types for each, in the function declaration. The number and type of arguments must always match the number and type of parameters, or you’ll get a compile error.</li>
<li>If you want your function to return one or more values, you must declare the return value types in the function declaration.</li>
<li>You can’t access avriable declared within a function outside that function. But you can access a variable declared outside a function (usually at the package level) within that function.</li>
<li>When a function returns multiple values, the last value usually has a type of error. Error values have an <code>Error()</code> method that returns a string describing the error.</li>
<li>By convention, functions return an error value of <code>nil</code> to indicate there are no errors.</li>
<li>You can access the value a pointer as a parameter, and it updates the value at that pointer, then the updated value will still be visible outside the function.</li>
</ul>
<h3 id="Packages">Packages</h3>
<p>The Go workspace is a special directory on your computer that holds Go code.<br>
You can set up a package for your programs to use by creating a directory in the workspace that contains one or more source code files.</p>
<h4 id="BULLET-POINTS-4">BULLET POINTS</h4>
<ul>
<li>By default, the workspace directory is a directory named go within your user’s home directory.</li>
<li>You can use another directory as your workspace by setting the <code>GOPATH</code> environment variable.</li>
<li>Go uses three subdirectories within the workspace: the <code>bin</code> directory holds compiled executable programs, the <code>pkg</code> directory holds compiled package code, and the <code>src</code> directory holds Go source code.</li>
<li>The names of the directories within the <code>src</code> directory are used to form a package’s import path. Names of nested directories are separated by <code>/</code> characters in the import path.</li>
<li>The package’s name is determined by the <strong>package</strong> clauses at the top of the source code files within the package directory. Except for the main package, the package name should be the same as the name of the directory that contains it.</li>
<li>Package names should be all lowercase, and ideally consist of a single word.</li>
<li>A package’s functions can only be called from outside that pacakge if they’re exported. A function is exported if its name begins with a capital letter.</li>
<li>A <strong>constant</strong> is a name referring to a value that will never change.</li>
<li>The <code>go install</code> command compiles a package’s code and stores it in the <code>pkg</code> directory for general packages, or the <code>bin</code> directory for executable programs.</li>
<li>A common convention is to use the URL where a package is hosted as its import path. This allows the <code>go get</code> tool to find, download, and install packages given only their import path.</li>
<li>The <code>go doc</code> tool displays documentation for packages. Doc comments within the code are inculded in go doc’s output.</li>
</ul>
<h3 id="Arrays">Arrays</h3>
<p>An array is a list of values of a particular type.<br>
Each item in an array is referred to as an array element.<br>
An array holds a specific number of elements; no means ar available to easily add more elements to an array.</p>
<h4 id="BULLET-POINTS-5">BULLET POINTS</h4>
<ul>
<li>To declare an array variable, include the array length in square brackets and the type of elements it will hold: <code>var myArray [3]int</code></li>
<li>To assign or access an element of an array, provide its index in square brackets. Indexes start at 0, so the first element of myArray is <code>myArray[0]</code></li>
<li>As with variables, the default value for all array elements is the zero value for that element’s type.</li>
<li>You can set element values at the time an array is created using an <strong>array literal</strong>: <code>[3] int{4, 9. 6}</code></li>
<li>If you store an index that is not valid for an array in a variable, and then try to access an array element using that variable as an index, you will get a panic – a runtime error.</li>
<li>You can get the number of elements in an array with the build-in len function.</li>
<li>You can conveniently process all the elements of an array using the special <code>for ... range</code> loop syntax, which loops through each element and assigns its index and value to variables you provide.</li>
<li>When using a <code>for ... range</code> loop, you can ignore either the index or value for each element by assigning it to the <code>_</code> blank identifier.</li>
<li>The <code>os.Open</code> function opens a file. It returns a pointer to an <code>os.File</code> value representing that opened file.</li>
<li>Passing an <code>os.File</code> value to <code>bufio.NewScanner</code> returns a <code>bufio.Scanner</code> value whose <code>Scan</code> and <code>Text</code> methods can be used to read a line at a time from the file as strings.</li>
</ul>
<h3 id="Slices">Slices</h3>
<p>A slice is also a list of elements of a partifular type, but unlike arrays, tools are available to add or remove elements.<br>
Slice don’t hold any data themselves.<br>
A slice is merely a view into the elements of an underlying array.</p>
<h4 id="BULLET-POINTS-6">BULLET POINTS</h4>
<ul>
<li>The type for a slice variable is declared just like the type for an array variable, except the length is ommited: <code>var mySlice []int</code></li>
<li>For the most part, code for working with slices is identical to code that works with arrays. This includes: accessing elements, using zero values, passing slices to the len function, and for … range loops.</li>
<li>A <strong>slice literal</strong> looks just like an array literal, except the length is ommited: <code>[]int{1, 7, 10}</code></li>
<li>You can get a slice that contains elements <code>i</code> throgh <code>j-1</code> of an array or slice using the <strong>slice operator</strong>: <code>s[i:j]</code></li>
<li>The <code>os.Args</code> package variable contains a slice of strings with the command-line arguments the current program was run with.</li>
<li>A <strong>variadic function</strong> is one that can be called with a varying number of arguments.</li>
<li>To declare a variadic function, place an ellipsis(…) before the type of the last parameter in the function declaration. That parameter will then receive all the variadic arguments as a slice.</li>
<li>When calling a variadic function, you can use a slice in place of the variadic arguments by typingan ellipsis after the slice: <code>inRange(1, 10, mySlice...)</code></li>
</ul>
<h3 id="Maps">Maps</h3>
<p>A map is a collection where each value is stored under a corresponding key.<br>
Whereas arrays and slices can only use integers as indexes, a map can use (almost) any type for keys.<br>
All of a map’s key must be the same type, and all the values must be the same type, but the keys don’t have to be the same type as the values.</p>
<h4 id="BULLET-POINTS-7">BULLET POINTS</h4>
<ul>
<li>When declaring a map variable, you must provide the types for its keys and its values: <code>var myMap map[string]int</code></li>
<li>To create a new map, call the make function with the type of the map you want: <code>myMap = make(map[string]int)</code></li>
<li>To assign a value to a map, provide the key you want to assign it to in square bracket: <code>myMap[&quot;my key&quot;] = 12</code></li>
<li>To get a value, you provide the key as well: <code>fmt.Println(myMap[&quot;my key&quot;])</code></li>
<li>You can create a map and initialize it with data at the same time using a map literal: <code>map[string]int{&quot;a&quot;: 2, &quot;b&quot;: 3}</code></li>
<li>As with arrays and slices, if you access a map key that hasn’t been assigned a value, you’ll get a zero value back.</li>
<li>Getting a value from a map can return a second, optional Boolean value that indicates whether that value was assigned, or if it represents a default zero value: <code>value, ok := myMap[&quot;c&quot;]</code></li>
<li>If you only want to test whether a key has had a value assigned, you can ignore the actual value using the <code>_</code> blank identifier: <code>_, ok = myMap[&quot;c&quot;]</code></li>
<li>You can delete keys and their corresponding values from a map using the <code>delete</code> build-in function: <code>delete(myMap, &quot;b&quot;)</code></li>
<li>You can use <code>for ... range</code> loops with maps, much like you can with arrays or slices. You provide one variable that will be assigned each key in tur, and a second variable that will be assigned each value in turn.  <figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for key, <span class="keyword">value</span> := <span class="built_in">range</span> myMap &#123; </span><br><span class="line">    <span class="keyword">fmt</span>.Println(key, <span class="keyword">value</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Structs-and-Defined-types">Structs and Defined types</h3>
<h4 id="Structs">Structs</h4>
<p>A struct is a value that’s constructed by joining together other values of different types.<br>
The separate values that form a struct are known as fields.<br>
Each field has a name and a type.</p>
<h4 id="Defined-Types">Defined Types</h4>
<p>Type definitions allow you to create new types of your own.<br>
Each defined type is based on an underlying type that determines how values are stored.<br>
Defined types can use any type as an underlying type, although structs are most commonly used.</p>
<h4 id="BULLET-POINTS-8">BULLET POINTS</h4>
<ul>
<li>You can declare a variable with a struct type. To specify a struct type, use the struct keyword, followed by a list of filed names and types within curly braces.  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var myStruct <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    field1 <span class="built_in">string</span></span><br><span class="line">    field2 <span class="keyword">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>Writing struct types repeatedly can get tedious, so it’s usually best to define a type with an underlying struct type. Then the defined type can be used for variables, function parameters or return values, and so on.  <figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> myType <span class="keyword">struct</span> &#123;</span><br><span class="line">    field1 <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line">var myVar myType</span><br></pre></td></tr></table></figure>
</li>
<li>Struct fields are accessed via the dot operator.  <figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myVar.field1 = <span class="string">"value"</span></span><br><span class="line">fmt.<span class="constructor">Println(<span class="params">myVar</span>.<span class="params">field1</span>)</span></span><br></pre></td></tr></table></figure>
</li>
<li>If a function needs to modify a struct or if a struct is large, it should be passed to the function as a pointer.</li>
<li>Types will only be exported from the package they’re defined in if their name begins with a capital letter.</li>
<li>Likewise, struct fields will not be accessible outside their package unless their name is capitalized.</li>
<li>Struct literals let you create a struct and set its fields at the same time. <code>myVar := myType{field1: &quot;value&quot;}</code></li>
<li>Adding a struct field with no name, only a type, defines an anonymous field.</li>
<li>An inner struct that is added as part of an outer struct using an anonymous field is said to be <strong>embedded</strong> within the outer struct.</li>
<li>You can access the fields of an embedded struct as if the belong to the outer struct.</li>
</ul>
<h3 id="Method-definitions">Method definitions</h3>
<p>A method definition is just like a function definition, except that it includes a receiver parameter.<br>
the method becomes assiociated with the type of the receiver parameter.<br>
From then on, that method can be called on any value of that type.</p>
<h4 id="BULLET-POINTS-9">BULLET POINTS</h4>
<ul>
<li>Once you’ve defined a type, you can do a conversion to that type from any value of the same underlying type: <code>Gallon(10.0)</code></li>
<li>Once a variable’s type is defined, values of other types cannot be assigned to that variable, even if they have the same underlying type.</li>
<li>A defined type supports all the same operators as its underlying type. A type based on int, for example, would support <code>+, -, *, /, ==, &gt;, &lt;</code> operators.</li>
<li>A defined type can be used in operations together with literal values: <code>Gallons(10.0) + 2.3</code></li>
<li>To define a method, provide a receiver parameter in parentheses before the method name: <code>func (m MyType) MyMethod() {}</code></li>
<li>The receiver parameter can be used within the method block like any other parameter:  <figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m MyType)</span> <span class="title">MyMethod</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"called on"</span>, m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>You can define additional parameters or return values on a method, just as you would with any other function.</li>
<li>Defining multiple functions with the same name in the same package is not allowed, even if the have parameters of different types. But you can define multiple methods with the same name , as long as each is defined on a different type.</li>
<li>You can only define methods on types that were defined in the same package.</li>
<li>As with any other parameter, receiver parameters receive a copy of the original value. If your method needs to modify the receiver, you should use a pointer type for the receiver parameter, and modify the value at that pointer.</li>
</ul>
<h3 id="Encapsulation-and-Embeding">Encapsulation and Embeding</h3>
<h4 id="Encapsulation">Encapsulation</h4>
<p>Encapsulation is the practice of hiding data in one part of a program from code in another part.<br>
Encapsulation can b used to protect against invalid data.<br>
Encapsulated data is also easier to change. You can be sure you won’t break other code that accesses the data, because no code is allowed to.</p>
<h4 id="Embedding">Embedding</h4>
<p>A type that is stored within a struct type using an anonymous field is said to be embedded within the struct.<br>
Methods of an embedded type get promoted to the outer type. They can be called as if they were defined on the outer type.</p>
<h4 id="BULLET-POINTS-10">BULLET POINTS</h4>
<ul>
<li>In Go, data is encapsulated within packages, using unexported package variables or struct fields.</li>
<li>Unexported variables, struct fields, functions, methods, and the like can still be accessed by exported functions and methods defined in the same package.</li>
<li>The practice of ensuring that data is valid before accepting it is known as <strong>data validation</strong>.</li>
<li>A method that is primarily used to set the value of an encapsulated field is known as a <strong>setter method</strong>. Setter methods often include validation logic, to ensure the new value being provided is valid.</li>
<li>Since setter methods need to modify their receiver, their receiver parameter should have a pointer type.</li>
<li>It’s conventional for setter method names to be in the form <strong>SetX</strong> where <strong>X</strong> is the name of the field being set.</li>
<li>A method that is primarily used to get the value of an encapsulated field is known as a <strong>getter method</strong>.</li>
<li>It’s conventional for getter method names to be in the form <strong>X</strong> where <strong>X</strong> is the name of the field being set. Some other programming languages favor the form <strong>GetX</strong> for getter method names, but you <em>should not</em> use that form in Go.</li>
<li>Methods defined on an outer struct type live alongside methods promoted from an embedded type.</li>
<li>An embedded type’s unexported methods don’t get promoted to the outer type.</li>
</ul>
<h3 id="Interface">Interface</h3>
<p>An interface is a set of methods certain values are expected to have.<br>
Any type that has all the methods listed in an interface definition is said to satisfy that interface.<br>
A type that satisfies an interface can be assigned to any variable or function parameter that uses that interface as its type.</p>
<h4 id="BULLET-POINTS-11">BULLET POINTS</h4>
<ul>
<li>A concrete type specifies not only what its values can do (what methods you can call on them), but also what they are: they specify the underlying type that holds the value’s data.</li>
<li>An interface type is an abstract type. Interfaces don’t describe what a value is: they don’t say what its underlying type is or how its data is stored. They only describe what a value can do: what methods it has.</li>
<li>An interface definition needs to contain a list of method names, along with any parameters or return values those methods are expected to have.</li>
<li>To satify an interface, a tyep must have all the methods the interface specifies. Method names, parameter types (or lack thereof), and return value types (or lack thereof) all need to match those defined int the interface.</li>
<li>A type can have methods in addition to those listed in the interface, but it mustn’t be missing any, or it doesn’t satisfy that interface.</li>
<li>A type can statisfy multiple intercaces, and an interface can have multiple types that satisty it.</li>
<li>Interface statisfaction is automatic. There is no need to explictily declare that a concrete type satisfies an interface in Go.</li>
<li>When you have a variable of an interface type, the only methods you can call on it are those defined in the interface.</li>
<li>If you’ve assigned a value of a concrete type to a variable with an interface type, you can use a <strong>type assertion</strong> to get the concrete type value back. Only then can you call methods that are defined on the concrete type (but not the interface).</li>
<li>Type assertion return a second <code>bool</code> value that indicates whether the assertion was successful. <code>car, ok := vehicle.(Car)</code></li>
</ul>
<h3 id="Defer-and-Recover">Defer and Recover</h3>
<h4 id="Defer">Defer</h4>
<p>The <code>defer</code> keyword can be added before any function or method call to postpone that can until the current function exists.<br>
Defered function calls are ofter used for cleanup code that needs to be run even in the event of an error.</p>
<h4 id="Recover">Recover</h4>
<p>If a deferred function calls the built-in <code>recover</code> function, the program will revcover from a panic state (if any).<br>
The <code>recover</code> function returns whatever value was originally passed to the <code>panic</code> function.</p>
<h4 id="BULLET-POINTS-12">BULLET POINTS</h4>
<ul>
<li>Retruning early from a function with an error value is a good way to indicate an error has occurred, but it can prevent cleanup code later in the function from being run.</li>
<li>You can use the <code>defer</code> keyword to call your cleanup function immediately after the code that requires cleanup. That will set up the cleanup code to run when the current function exits, wheter or not there was an error.</li>
<li>You can call the built-in <code>panic</code> function to cause your program to panic.</li>
<li>Unless the built-in <code>recover</code> function is called, a panicking program will crash with a log message.</li>
<li>You can pass any value as an arguement to <code>panic</code>. That value will be coverted to a string and printed as part of the log message.</li>
<li>A panic log message includes a stack trace, a list of all active function calls that can be useful for debugging.</li>
<li>When a program panics, any deferred function calls will still be made, allowing cleanup code to be executed before a crash.</li>
<li>Defferred functions can also call the built-in <code>recover</code> function, which will cause the program to resume normal execution.</li>
<li>If <code>recover</code> is called when there is no panic, it simply returns <code>nil</code>.</li>
<li>If <code>recover</code> is called during a panic, it returns the value that was passed to <code>panic</code>.</li>
<li>Most programs should panic only in the event of an unanticipated error. You should think about all possible errors your program might encounter (such as missing files or badly formatted data), and handle those using <code>error</code> values instead.</li>
</ul>
<h3 id="Goroutines-and-Channels">Goroutines and Channels</h3>
<h4 id="Goroutines">Goroutines</h4>
<p>Goroutines are functions that are run concurrently.<br>
New goroutines are started with a go statement: an ordinary function call preceded by the <code>go</code> keyword.</p>
<h4 id="Channels">Channels</h4>
<p>A channel is ad data structure used to send values between goroutines.<br>
By default, sending a value on a channel blocks (pauses) the current goroutine until that value is received.<br>
Attempting to receive a value also blocks the current goroutine until a value is sent on that channel.</p>
<h4 id="BULLET-POINTS-13">BULLET POINTS</h4>
<ul>
<li>All Go programs have at least one goroutine: the one that calls the <code>main</code> function when the program starts.</li>
<li>Go programs end when the main goroutine stops, even if other goroutines have not completed their work yet.</li>
<li>The <code>time.Sleep</code> function paused the current goroutine for a set amount of time.</li>
<li>Go makes no guarantees about when it will switch between goroutines, or how long it will keep running one goroutine for. This allows the goroutines to run more efficiently, but it means you can’t count on operations happening in a particular order.</li>
<li>Function return values can’t be used in a <code>go</code> statement, in part because the return value wouldn’t be ready when the calling function attempted to use it.</li>
<li>If you need a value from a goroutine, you’ll need to pass it a channel to send the value back on.</li>
<li>Channels are created by calling the built-in <code>make</code> function.</li>
<li>Each channel only carries values of one particular type; you specify that type when creating the channel. <code>myChannel := make(chan MyType)</code></li>
<li>You send values to channels using the <code>&lt;-</code> operator: <code>myChannel &lt;- &quot;a value&quot;</code></li>
<li>The <code>&lt;-</code> operator is also used to receive values from a channel: <code>value := &lt;- myChannel</code></li>
</ul>
<h3 id="Testing">Testing</h3>
<p>An automated test is a separate program that executes components of your main program, and verifies they behave as expected.<br>
Go inculdes a <code>testing</code> package you can use to write automated tests for your code, and a <code>go test</code> command you can use to run those tests.</p>
<h3 id="BULLET-POINTS-14">BULLET POINTS</h3>
<ul>
<li>An automated test runs your code with a particular set of inputs, and looks for a particular result. If the code’s output matches the expected value, the test will “pass”; otherwise, it will “fall”.</li>
<li>The <code>go test</code> tool is used to run tests. It looks for files within a specified package whose names end in <code>_test.go</code>.</li>
<li>You’re not required to make your tests part of the same package as the code you’re testing, but doing so will allow you to access unexported types or functions from the package.</li>
<li>Tests are required to use a type from the <code>testing</code> package, so you’ll need to import that package at the top of each test file.</li>
<li>A <code>_test.go</code> file can contain one or more test functions, whose names begin with <code>Test</code>. The rest of the name can be whatever you want.</li>
<li>Test functions must accept a single parameter: a pointer to a <code>testing.T</code> value.</li>
<li>Your test code can make ordinary calls to the functions and methods in your package, then check that the return values match the expected values. If they don’t, the test should fail.</li>
<li>You can report that a test has failed by calling methods (such as <code>Error</code>) on the <code>testing.T</code> value. Most methods accept a string with a message explaining the reason the test failed.</li>
<li>The <code>Errorf</code> method works similarly to <code>Error</code>, but it accepts a formatting string just like the <code>fmt.Printf</code> function.</li>
<li>Functions within a <code>_test.go</code> file whose names do not begin with <code>Test</code> are not run by <code>go test</code>. They can be used by tests as “helper” functions.</li>
<li><strong>Table-driven tests</strong> are tests that process “table” of inputs and expected outputs. They pass each set of input to the code being tested, and check that the code’s output matches the expected values.</li>
</ul>
<h3 id="HTTP-handler-functions-and-First-class-functions">HTTP handler functions and First-class functions</h3>
<h4 id="HTTP-handler-functions">HTTP handler functions</h4>
<p>A <code>net/http</code> handler function is one that has been set up to handle browser requests for a certain path.<br>
A handler function receives an <code>http.ResponseWriter</code> value as a parameter.<br>
The handler function should write a response out using the ResponseWrite.</p>
<h3 id="First-class-functions">First-class functions</h3>
<p>In a language with first-class functions, functions can be assigned to variables, and then called later using those variables.<br>
Functions can also be passed as arguments when calling other functions.</p>
<h4 id="BULLET-POINTS-15">BULLET POINTS</h4>
<ul>
<li>The <code>net/http</code> package’s <code>ListenAndServe</code> function runs a web server on a port you specify.</li>
<li>The <code>localhost</code> hostname handles connections from your computer back to itself.</li>
<li>Each HTTP request includes a resource path, which specifies which of a server’s many resources the browser is requesting.</li>
<li>The <code>HandleFunc</code> function takes a path string, and a function that will handle request for that path.</li>
<li>You can call <code>HandleFunc</code> repeatedly to set up different handler functions for different paths.</li>
<li>Handler functions must accept an <code>http.ResponseWriter</code> value and a pointer to an <code>http.Request</code> value as parameters.</li>
<li>If you call the <code>Write</code> method on an <code>http.ResponseWriter</code> with a slice of bytes, that data will be added to the response sent to the browser.</li>
<li>Variables that can hold a function have a function type.</li>
<li>A function type includes the number and type of parameters that the function accepts (or lack thereof), and the number and type of values that the function returns (or lack thereof).</li>
<li>If <code>myVar</code> holds a function, you can call that function by putting parenthese (containing any arguments the function might require) after the variable name.</li>
</ul>
<h3 id="Templates">Templates</h3>
<p>The <code>text/template</code> package takes a template string (or a template loaded from a file) and inserts data into it.<br>
The <code>html/template</code> package works just like <code>text/template</code>, except that it also provides security protections needed for working with HTML.</p>
<h4 id="BULLET-POINTS-16">BULLET POINTS</h4>
<ul>
<li>A template string contains text that will be output verbatim. Within this text, you can insert various <code>actions</code> containing simple code that will be evaluated. Actions can be used to insert data into the template text.</li>
<li>A <code>Template</code> value’s <code>Execute</code> method takes a value that satisfies the <code>io.Writer</code> interface, and a data value that can be accessed within actions in the template.</li>
<li>HTTP GET requests are commonly used when a browser needs to get data from the server.</li>
<li>HTTP POST requests are used when a browser needs to submit new data to the server.</li>
<li>From data from a request can be accessed using an <code>http.Request</code> value’s <code>FormValue</code> method.</li>
<li>The <code>http.Redirect</code> function can be used to direct the browser to request a different path.</li>
</ul>
<h3 id="More">More</h3>
<h4 id="Initialization-statements-for-“if”">Initialization statements for “if”</h4>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">count</span> := <span class="number">5</span>; <span class="keyword">count</span> &gt; <span class="number">4</span> &#123;</span><br><span class="line">    fmt.<span class="keyword">Println</span>(<span class="string">"count is"</span>, <span class="keyword">count</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="The-switch-statment">The switch statment</h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> rand.Intn(<span class="number">3</span>) + <span class="number">1</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        fmt.Println(<span class="string">"1"</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">fallthrough</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        fmt.Println(<span class="string">"higher than 1"</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">"invalid door number"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="More-basic-types">More basic types</h4>
<p><code>int</code>, <code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code><br>
<code>unit</code>, <code>unit8</code>, <code>unit16</code>, <code>unit32</code>, <code>unit64</code><br>
<code>float32</code>, <code>float64</code></p>
<h4 id="More-about-runes">More about runes</h4>
<p><strong>Working with partial strings safely means converting the string to runes, not bytes.</strong></p>
<h4 id="Buffered-channels">Buffered channels</h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">channel := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h4 id="Futher-Reading">Futher Reading</h4>
<p><a href="https://go.dev/tour/list" target="_blank" rel="noopener">A Tour of Go</a><br>
<a href="https://go.dev/doc/effective_go" target="_blank" rel="noopener">Effective Go</a><br>
<a href="https://pkg.go.dev/std" target="_blank" rel="noopener">Package Documentation</a></p>
</div><iframe src="/donate/?AliPayQR=null&amp;WeChatQR=http://s3.mindex.xyz/blog/wechat-casher.jpg&amp;GitHub=http://github.com/neo1989&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/Coder/">Coder</a></div><div class="post-nav"><a class="pre" href="/SeizeTheDay/SUMMARY-2019/">The End Is Not the End, 2019</a><a class="next" href="/SeizeTheDay/SUMMARY-2018/">The End Is Not the End, 2018</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://neo1989.net/ReadingNotes/NOTE-head-first-go/';
    this.page.identifier = 'ReadingNotes/NOTE-head-first-go/';
    this.page.title = '《Head First Go》';
  };</script><!-- script(type='text/javascript' id='disqus-lazy-load-script').--><!--   $.ajax({--><!--   url: 'https://disqus.com/next/config.json',--><!--   timeout: 2500,--><!--   type: 'GET',--><!--   success: function(){--><!--     var d = document;--><!--     var s = d.createElement('script');--><!--     s.src = '//#{theme.disqus}.disqus.com/embed.js';--><!--     s.setAttribute('data-timestamp', + new Date());--><!--     (d.head || d.body).appendChild(s);--><!--     $('.disqus_click_btn').css('display', 'none');--><!--   },--><!--   error: function() {--><!--     $('.disqus_click_btn').css('display', 'block');--><!--   }--><!--   });--><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//neo1989.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://neo1989.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div></div><div class="pure-u-1 pure-u-md-4-6"><div id="footer">Copyright © 2022 <a href="/." rel="nofollow">愚苏记.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/i-yard/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho/maupassant"> Cho.</a></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/lib/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="/lib/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" id="maid-script" mermaidoptioins="{&quot;startOnload&quot;:true,&quot;theme&quot;:&quot;forest&quot;}" src="/js/mermaid.min.js?v=1.0.0"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}</script></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>