<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="我读书少，你莫骗我。"><title>Pandas常用 | 愚苏记</title><link rel="stylesheet" type="text/css" href="https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/lib/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="/lib/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="/lib/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="/lib/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="/lib/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script><!-- hexo-inject:begin --><!-- hexo-inject:end -->var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '96c862f2728296588ae9849f3bcb95db';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Pandas常用</h1><a id="logo" href="/.">愚苏记</a><p class="description">To no avail but try.</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-5-5"><div class="content_container no-padding-right"><div class="post"><h1 class="post-title">Pandas常用</h1><div class="post-meta">Jan 12, 2021<span> | </span><span class="category"><a href="/categories/CheatSheet/">CheatSheet</a></span></div><a class="disqus-comment-count" data-disqus-identifier="CheatSheet/CHEATSHEET-pandas/" href="/CheatSheet/CHEATSHEET-pandas/#disqus_thread"></a><div class="post-content"><blockquote>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><p>你可以不用，但你不能不会。</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">Grammar</th>
<th style="text-align:center">Explanation / Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Importing Data</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">pd.read_csv(filename)</td>
<td style="text-align:center">From a CSV file</td>
</tr>
<tr>
<td style="text-align:left">pd.read_table(filename)</td>
<td style="text-align:center">From a delimited text file (like TSV)</td>
</tr>
<tr>
<td style="text-align:left">pd.read_excel(filename)</td>
<td style="text-align:center">From an Excel file</td>
</tr>
<tr>
<td style="text-align:left">pd.read_sql(query, connection_object)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">pd.read_json(json_string)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">pd.read_html(url)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">pd.DataFrame(dict)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left"><strong>Exporting Data</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.to_csv(filename)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.to_sql(table_name, connection_object)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.to_json(filename)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left"><strong>Create Test Objects</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">pd.DataFrame(np.random.rand(20, 5))</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">pd.Series(my_list)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.index = pd.date_range(‘1900/1/30’, periods=df.shape[0])</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left"><strong>Viewing / Inspecting Data</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.head(n)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.tail(n)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.shape</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.describe()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.value_counts()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left"><strong>Selection</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df[col]</td>
<td style="text-align:center">Returns column with label col as Series</td>
</tr>
<tr>
<td style="text-align:left">df[[col1, col2]]</td>
<td style="text-align:center">Returns columns as a new DataFrame</td>
</tr>
<tr>
<td style="text-align:left">ss.iloc[0]</td>
<td style="text-align:center">Selection by position</td>
</tr>
<tr>
<td style="text-align:left">df.iloc[0, :]</td>
<td style="text-align:center">First row</td>
</tr>
<tr>
<td style="text-align:left">df.iloc[0, 0]</td>
<td style="text-align:center">First element of first column</td>
</tr>
<tr>
<td style="text-align:left"><strong>Data Cleaning</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.columns = [‘a’,‘b’,‘c’]</td>
<td style="text-align:center">Rename columns</td>
</tr>
<tr>
<td style="text-align:left">pd.isnull()</td>
<td style="text-align:center">Checks for null Values, Returns Boolean Arrray</td>
</tr>
<tr>
<td style="text-align:left">pd.notnull()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.dropna()</td>
<td style="text-align:center">Drop all rows that contain null values</td>
</tr>
<tr>
<td style="text-align:left">df.dropna(axis=1)</td>
<td style="text-align:center">Drop all columns that contain null values</td>
</tr>
<tr>
<td style="text-align:left">df.dropna(axis=1, thresh=n)</td>
<td style="text-align:center">Drop all rows have have less than n non null values</td>
</tr>
<tr>
<td style="text-align:left">df.fillna(x)</td>
<td style="text-align:center">Replace all null values with x</td>
</tr>
<tr>
<td style="text-align:left">ss.fillna(ss.mean())</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ss.astype(float)</td>
<td style="text-align:center">Convert the datatype of the series to float</td>
</tr>
<tr>
<td style="text-align:left">ss.replace(1, ‘one’)</td>
<td style="text-align:center">Replace all values equal to 1 with ‘one’</td>
</tr>
<tr>
<td style="text-align:left">ss.replace([1, 3], [‘one’, ‘three’])</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.rename(columns=lambda x: x + 1)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.rename(columns={‘old_name’: ‘new_ name’})</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.set_index(‘column_one’)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.rename(index=lambda x: x + 1)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left"><strong>Filter, Sort, and Groupby</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df[df[col].gt(0.5)]</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df[(df[col] &gt; 0.5) &amp; (df[col] &lt; 0.7)]</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.sort_values(col1)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.sort_values(col2, ascending=False)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.sort_values([col1,col2], ascending=[True, False])</td>
<td style="text-align:center">Sort values by col1 in ascending order then col2 in descending order</td>
</tr>
<tr>
<td style="text-align:left">df.groupby(col)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.groupby([col1, col2])</td>
<td style="text-align:center">Returns groupby object for values from multiple columns</td>
</tr>
<tr>
<td style="text-align:left">df.pivot_table(index=col1, values=[col2, col3], aggfunc=np.mean)</td>
<td style="text-align:center">Create a pivot table that groups by col1 and calculates the mean of col2 and col3</td>
</tr>
<tr>
<td style="text-align:left">df.groupby(col1).agg(np.mean)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.apply(np.mean)</td>
<td style="text-align:center">Apply the function np.mean() across each column</td>
</tr>
<tr>
<td style="text-align:left">df.apply(np.max, axis=1)</td>
<td style="text-align:center">Apply the function np.max() across each row</td>
</tr>
<tr>
<td style="text-align:left"><strong>Join / Combine</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df1.append(df2)</td>
<td style="text-align:center">Add the rows in df1 to the end of df2 (columns should be identical)</td>
</tr>
<tr>
<td style="text-align:left">pd.concat([df1, df2], axis=1)</td>
<td style="text-align:center">Add the columns in df1 to the end of df2 (rows should be identical)</td>
</tr>
<tr>
<td style="text-align:left">df1.join(df2, on=col1, how=‘inner’)</td>
<td style="text-align:center">SQL-style</td>
</tr>
<tr>
<td style="text-align:left"><strong>Statistics</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.describe()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.mean()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.corr()</td>
<td style="text-align:center">Returns the correlation between columns in a DataFrame</td>
</tr>
<tr>
<td style="text-align:left">df.count()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.max()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.min()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.median()</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">df.std()</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div><iframe src="/donate/?AliPayQR=null&amp;WeChatQR=http://s3.mindex.xyz/mp/qrcode-s.jpg&amp;GitHub=http://github.com/neo1989&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div><ul class="post-copyright"><li class="post-copyright-author"><strong>Author: </strong>尼欧</li><li class="post-copyright-link"><strong>Blog Link: </strong><a href="/CheatSheet/CHEATSHEET-pandas/">https://neo1989.net/CheatSheet/CHEATSHEET-pandas/</a></li><li class="post-copyright-license"><strong>Copyright Declaration: </strong>转载请声明出处。</li></ul></div><br><div class="tags"><a href="/tags/DAE/">DAE</a><a href="/tags/Coder/">Coder</a></div><div class="post-nav"><a class="pre" href="/Notes/NOTE-practical-statistics/">《实用统计学》</a><a class="next" href="/CheatSheet/CHEATSHEET-excel-formulas/">Excel必会</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://neo1989.net/CheatSheet/CHEATSHEET-pandas/';
    this.page.identifier = 'CheatSheet/CHEATSHEET-pandas/';
    this.page.title = 'Pandas常用';
  };</script><!-- script(type='text/javascript' id='disqus-lazy-load-script').--><!--   $.ajax({--><!--   url: 'https://disqus.com/next/config.json',--><!--   timeout: 2500,--><!--   type: 'GET',--><!--   success: function(){--><!--     var d = document;--><!--     var s = d.createElement('script');--><!--     s.src = '//#{theme.disqus}.disqus.com/embed.js';--><!--     s.setAttribute('data-timestamp', + new Date());--><!--     (d.head || d.body).appendChild(s);--><!--     $('.disqus_click_btn').css('display', 'none');--><!--   },--><!--   error: function() {--><!--     $('.disqus_click_btn').css('display', 'block');--><!--   }--><!--   });--><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//neo1989.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://neo1989.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div></div><div class="pure-u-1 pure-u-md-4-6"><div id="footer">Copyright © 2024 <a href="/." rel="nofollow">愚苏记.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/i-yard/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho/maupassant"> Cho.</a></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/lib/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="/lib/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" id="maid-script" mermaidoptioins="{&quot;startOnload&quot;:true,&quot;theme&quot;:&quot;forest&quot;}" src="/js/mermaid.min.js?v=1.0.0"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}</script></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>